{
  "name": "Abandoned Cart Recovery",
  "description": "Reminds customers about items left in their cart with a discount incentive",
  "nodes": [
    {
      "id": "trigger_1",
      "type": "TRIGGER",
      "label": "Cart Abandoned",
      "config": {
        "triggerType": "ABANDONED_CHECKOUT"
      }
    },
    {
      "id": "delay_1",
      "type": "DELAY",
      "label": "Wait 1 Hour",
      "config": {
        "delay": {
          "amount": 1,
          "unit": "hours"
        }
      }
    },
    {
      "id": "action_1",
      "type": "ACTION",
      "label": "Send Cart Reminder",
      "config": {
        "actionType": "SEND_MESSAGE",
        "toField": "customer.phone",
        "body": "Hi {{customer.name}}!\n\nYou left items in your cart. Complete your purchase now and get 15% off with code: CART15\n\nTotal: ${{cart.total}}"
      }
    },
    {
      "id": "delay_2",
      "type": "DELAY",
      "label": "Wait 1 Day",
      "config": {
        "delay": {
          "amount": 1,
          "unit": "days"
        }
      }
    },
    {
      "id": "condition_1",
      "type": "CONDITION",
      "label": "Cart Still Active?",
      "config": {
        "logic": {
          "type": "AND",
          "clauses": [
            {
              "left": "cart.status",
              "op": "equals",
              "right": "abandoned"
            }
          ]
        }
      }
    },
    {
      "id": "action_2",
      "type": "ACTION",
      "label": "Final Reminder",
      "config": {
        "actionType": "SEND_MESSAGE",
        "toField": "customer.phone",
        "body": "Last chance, {{customer.name}}!\n\nYour cart expires soon. Use code CART15 for 15% off.\n\nDon't miss out!"
      }
    },
    {
      "id": "action_3",
      "type": "ACTION",
      "label": "Add Customer Note",
      "config": {
        "actionType": "ADD_CUSTOMER_NOTE",
        "toField": "customer.phone",
        "customerId": "customer.id",
        "body": "Completed purchase after cart recovery flow"
      }
    }
  ],
  "edges": [
    {
      "id": "edge_1",
      "source": "trigger_1",
      "target": "delay_1",
      "label": ""
    },
    {
      "id": "edge_2",
      "source": "delay_1",
      "target": "action_1",
      "label": ""
    },
    {
      "id": "edge_3",
      "source": "action_1",
      "target": "delay_2",
      "label": ""
    },
    {
      "id": "edge_4",
      "source": "delay_2",
      "target": "condition_1",
      "label": ""
    },
    {
      "id": "edge_5",
      "source": "condition_1",
      "target": "action_2",
      "label": "true",
      "conditionPath": "true"
    },
    {
      "id": "edge_6",
      "source": "condition_1",
      "target": "action_3",
      "label": "false",
      "conditionPath": "false"
    }
  ]
}